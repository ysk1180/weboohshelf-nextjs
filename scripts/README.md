# スクリプト

このディレクトリには、メンテナンスや修正用のスクリプトが含まれています。

## fix-sequence.js

PostgreSQLのシーケンス（自動採番）を修正するスクリプトです。

### 問題の背景
データベースのマイグレーションやインポート時に、シーケンスが正しく更新されないことがあります。
その結果、新しいレコードのIDが古い値で作成され、「最新の本棚」が正しく表示されない問題が発生します。

### 使用方法
```bash
node scripts/fix-sequence.js
```

### 実行例
```
=== Bookshelfテーブルのシーケンスを修正します ===

現在の最大ID: 1729
現在のシーケンス値: 58
シーケンスを 1730 に修正しました
修正後のシーケンス値: 1730

=== 完了 ===
```

### 注意事項
- 本番環境で実行する前に、必ずバックアップを取ってください
- 複数の開発者が同時に実行しないよう注意してください